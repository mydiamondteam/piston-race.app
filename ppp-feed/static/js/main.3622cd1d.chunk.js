(this["webpackJsonpreact-ts-material-01"]=this["webpackJsonpreact-ts-material-01"]||[]).push([[0],{241:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"ApeRouter","outputs":[{"internalType":"contract IUniswapV2Router02","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PcsRouter","outputs":[{"internalType":"contract IUniswapV2Router02","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenAmountLP","type":"uint256"}],"name":"feedPPP_Apeswap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenAmountLP","type":"uint256"}],"name":"feedPPP_Pancakeswap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"getApePairAmounts","outputs":[{"internalType":"uint256","name":"amountPSTN","type":"uint256"},{"internalType":"uint256","name":"amountBUSD","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"getApePairBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getContractsBUSDBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getContractsPSTNBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountBUSD","type":"uint256"}],"name":"getLiquidityAmount","outputs":[{"internalType":"uint256","name":"liquidityAmount","type":"uint256"},{"internalType":"uint256","name":"liquidityPercent","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPPPBUSDBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"getPcsPairAmounts","outputs":[{"internalType":"uint256","name":"amountPSTN","type":"uint256"},{"internalType":"uint256","name":"amountBUSD","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"getPcsPairBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPstnPriceByReserves_APE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPstnPriceByReserves_PCS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalLiquiditySupply_APE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalLiquiditySupply_PCS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_started","type":"bool"}],"name":"setStarted","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"started","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},277:function(e,t,n){},278:function(e,t,n){},280:function(e,t){},322:function(e,t){},324:function(e,t){},349:function(e,t){},351:function(e,t){},363:function(e,t){},364:function(e,t){},387:function(e,t){},390:function(e,t){},392:function(e,t){},510:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(54),c=n.n(o),s=(n(277),n(19)),r=n(39),d=n(38),l=n(151),p=(n(278),n(12)),u=n(556),w=n(552),m=n(551),h=n(41),y=n.n(h),P=n(241),b=n(3),f=n.n(b),j=n(5),S=n(26),x=n(553),g=n(549),T=n(260),k=n(258),O=n.n(k),_=n(256),v=n.n(_),A=n(554),C=n(546),W=n(548),D=n(544),B=n(555),L=n.p+"static/media/walletconnect.1b22e784.png",I=n.p+"static/media/metamask.55d59196.png",F=n.p+"static/media/trustwallet.8de17c9e.png",U=n(1),M=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={WalletConnectSelectionDlgOpen:!1,connected:!1,networkWarning:""},a.baseState=void 0,a.componentDidMount=function(){try{var e=localStorage.getItem("walletconnect");if(e){var t=!1;try{t=JSON.parse(e).connected}catch(n){t=!1}t&&a.initialConnect_WalletConnect()}else window.ethereum&&a.initialConnect()}catch(i){}},a.componentWillUnmount=function(){},a.initialConnect_WalletConnect=Object(j.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window.chainId>0&&window.chainIdExpected!=window.chainId)){e.next=5;break}return a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}),e.abrupt("return");case 5:a.setState({networkWarning:""});case 6:return window.walletConnectProvider=new T.a({infuraId:"042b9beb246dccdd1b2ced3804dfc2d9",chainId:window.chainIdExpected,rpc:{97:"https://data-seed-prebsc-1-s1.binance.org:8545",56:"https://bsc-dataseed.binance.org/"}}),e.prev=7,e.next=10,window.walletConnectProvider.enable();case 10:return window.web3=new y.a(window.walletConnectProvider),e.next=13,window.web3.eth.getAccounts();case 13:(t=e.sent).length>0&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=t[0],a.handleConnectWallet_WalletConnect()),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.log("error on walletconnect");case 20:case"end":return e.stop()}}),e,null,[[7,17]])}))),a.initialConnect=function(){if(window.ethereum){if(window.chainId>0&&window.chainIdExpected!=window.chainId)return void a.setState({networkWarning:"network ".concat(window.chainId," not supported.")});a.setState({networkWarning:""}),window.ethereum.request({method:"eth_requestAccounts"}).then((function(e){e.length>=1&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=e[0],a.handleConnectWallet())}))}else if(window.confirm("You have to use MetaMask or TrustWallet to connect. Press OK to continue to the MetaMask download page. https://metamask.io/download")){var e=document.createElement("a");e.target="_blank",e.href="https://metamask.io/download",e.click()}},a.handleConnectWallet=function(){window.ethereum&&(window.web3=new y.a(window.ethereum),window.chainId=window.ethereum.networkVersion,window.chainId>0&&window.chainIdExpected!=window.chainId?a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}):a.setState({networkWarning:""}),window.ethereum.request({method:"eth_accounts"}).then((function(e){e.length>=1&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=e[0],a.updateRefLink(),a.forceUpdate(),window.farm_contract=new window.web3.eth.Contract(window.contract_abi,window.contractAddress))})))},a.handleConnectWallet_WalletConnect=Object(j.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.walletConnectProvider){e.next=7;break}return window.chainId=window.walletConnectProvider.chainId,window.chainId>0&&window.chainIdExpected!=window.chainId?a.setState({networkWarning:"network ".concat(window.chainId," not supported.")}):a.setState({networkWarning:""}),e.next=5,window.web3.eth.getAccounts();case 5:(t=e.sent).length>0&&(window.connected=!0,a.setState({connected:!0}),window.walletAddress=t[0],a.updateRefLink(),a.forceUpdate(),window.farm_contract=new window.web3.eth.Contract(window.contract_abi,window.contractAddress));case 7:case"end":return e.stop()}}),e)}))),a.handleDeactivateAccount=function(){window.connected=!1,window.walletAddress="",a.setState({networkWarning:""}),a.setState({connected:!1}),a.forceUpdate()},a.handleDeactivateAccount_WalletConnect=function(){window.walletConnectProvider.disconnect(),window.connected=!1,window.walletAddress="",window.chainId=0,localStorage.setItem("walletconnect",""),a.setState({networkWarning:""}),a.setState({connected:!1}),a.forceUpdate()},a.updateRefLink=function(){var e=document.getElementById("walletAddressRefLink");null!=e&&(e.innerText=window.walletAddress)},a.handleWalletConnectDlgSelection=function(e){switch(a.setState({WalletConnectSelectionDlgOpen:!1}),e){case"metamask":case"trustwallet":a.initialConnect();break;case"walletconnect":a.initialConnect_WalletConnect()}},a.handleWalletConnectDlgClose=function(){a.setState({WalletConnectSelectionDlgOpen:!1})},a.onClick_connect=function(){a.setState({WalletConnectSelectionDlgOpen:!0})},a.onClick_disconnect=function(){try{a.handleDeactivateAccount_WalletConnect()}catch(e){}try{a.handleDeactivateAccount()}catch(t){}},a.render=function(){var e;e=a.state.connected?Object(U.jsxs)(x.a,{fullWidth:!0,variant:"contained",color:"secondary",sx:{my:0,marginRight:0},size:"small",onClick:a.onClick_disconnect,children:[Object(U.jsx)(v.a,{style:{height:"20px",marginRight:"8px"}}),"disconnect"]}):Object(U.jsxs)(x.a,{fullWidth:!0,variant:"contained",color:"primary",sx:{my:0,marginRight:0},size:"small",onClick:a.onClick_connect,children:[Object(U.jsx)(O.a,{style:{height:"20px",marginRight:"8px"}}),"connect"]});var t=Object(U.jsx)(D.a,{onClose:a.handleWalletConnectDlgClose,open:a.state.WalletConnectSelectionDlgOpen,children:Object(U.jsxs)(A.a,{sx:{p:"32px"},children:[Object(U.jsxs)(C.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("metamask")},children:[Object(U.jsx)(B.a,{children:Object(U.jsx)("img",{src:I,style:{width:"40px"}})}),Object(U.jsx)(W.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"Metamask"})]}),Object(U.jsxs)(C.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("trustwallet")},children:[Object(U.jsx)(B.a,{children:Object(U.jsx)("img",{src:F,style:{width:"40px"}})}),Object(U.jsx)(W.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"Trust Wallet"})]}),Object(U.jsxs)(C.a,{autoFocus:!0,button:!0,onClick:function(){return a.handleWalletConnectDlgSelection("walletconnect")},children:[Object(U.jsx)(B.a,{children:Object(U.jsx)("img",{src:L,style:{width:"40px"}})}),Object(U.jsx)(W.a,{primaryTypographyProps:{fontSize:"24pt"},primary:"WalletConnect"})]})]})});return Object(U.jsxs)(w.a,{children:[a.state.networkWarning,Object(U.jsxs)(g.a,{container:!0,children:[Object(U.jsx)(g.a,{item:!0,xs:12,md:12,children:e}),Object(U.jsx)(g.a,{item:!0,xs:12,md:12,children:Object(U.jsx)("div",{style:{padding:"16px"},children:a.state.connected&&window.walletAddress&&"".concat(window.walletAddress.slice(0,6),"...").concat(window.walletAddress.slice(window.walletAddress.length-4,window.walletAddress.length))})})]}),t]})},a.baseState=a.state,a}return Object(S.a)(n,[{key:"componentWillReceiveProps",value:function(e){}}]),n}(i.a.Component);window.chainIdExpected=56;Object(p.a)(m.a)((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({},t.typography.h3),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));window.dataRefreshInterval=3e3;var N=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={radioValue:"",progress:!1,walletAccepted:!1,LPApeswap:0,LPPancakeswap:0,PPPBalanceBUSD:0,ApeswapLPToSpend:0,PancakeLPToSpend:0,Apeswap_BUSD_Total:0,Apeswap_PSTN_Total:0,Pancake_BUSD_Total:0,Pancake_PSTN_Total:0},a.baseState=void 0,a._stateInterval=void 0,a.componentDidMount=function(){window.contractAddress="0xbC5f824e70E557220FcE6d76eED81FEDBD3078b4",window.contract_abi=P,a.checkState(),a._stateInterval&&clearInterval(a._stateInterval),a._stateInterval=setInterval(a.checkState,window.dataRefreshInterval)},a.componentWillUnmount=function(){},a.checkState=function(){!0===window.connected?(a.setState({yourAddress:window.walletAddress}),window.farm_contract.methods.getApePairBalance(window.contractAddress).call().then((function(e){a.setState({LPApeswap:y.a.utils.fromWei(e)})})),window.farm_contract.methods.getPcsPairBalance(window.contractAddress).call().then((function(e){a.setState({LPPancakeswap:y.a.utils.fromWei(e)})})),window.farm_contract.methods.getPPPBUSDBalance().call().then((function(e){a.setState({PPPBalanceBUSD:parseFloat(y.a.utils.fromWei(e))})})),window.farm_contract.methods.getApePairAmounts(window.contractAddress).call().then((function(e){a.setState({Apeswap_BUSD_Total:parseFloat(y.a.utils.fromWei(e.amountBUSD)),Apeswap_PSTN_Total:parseFloat(y.a.utils.fromWei(e.amountPSTN))})})),window.farm_contract.methods.getPcsPairAmounts(window.contractAddress).call().then((function(e){a.setState({Pancake_BUSD_Total:parseFloat(y.a.utils.fromWei(e.amountBUSD)),Pancake_PSTN_Total:parseFloat(y.a.utils.fromWei(e.amountPSTN))})}))):a.setState(a.baseState)},a.onClick_FeedPPPApeswap=function(){a.setState({progress:!0});var e=y.a.utils.toWei(a.state.ApeswapLPToSpend),t=(a.state.Apeswap_BUSD_Total/a.state.LPApeswap*a.state.ApeswapLPToSpend).toFixed(2)+" BUSD";console.log("lpToSpendInWei",e),console.log("busdToSpend",t),window.confirm("send "+t+"?")&&window.farm_contract.methods.feedPPP_Apeswap(e).send({from:window.walletAddress}).then((function(e){a.setState({progress:!1}),alert("success")})).catch((function(e){alert("transaction failed"),a.setState({progress:!1})}))},a.onClick_FeedPPPPancakeswap=function(){a.setState({progress:!0});var e=y.a.utils.toWei(a.state.PancakeLPToSpend),t=(a.state.Pancake_BUSD_Total/a.state.LPPancakeswap*a.state.PancakeLPToSpend).toFixed(2)+" BUSD";console.log("lpToSpendInWei",e),console.log("busdToSpend",t),window.confirm("send "+t+"?")&&window.farm_contract.methods.feedPPP_Pancakeswap(e).send({from:window.walletAddress}).then((function(e){a.setState({progress:!1}),alert("success")})).catch((function(e){alert("transaction failed"),a.setState({progress:!1})}))},a.handleRadioChange=function(e,t){a.setState({radioValue:t})},a.render=function(){return Object(U.jsxs)("div",{children:[Object(U.jsxs)("div",{className:"wrapper",children:[Object(U.jsx)("img",{className:"logo",src:"https://piston-token.com/images/logo.svg"}),Object(U.jsx)("h2",{children:"PISTON PRICE PILLOW"}),Object(U.jsx)("h3",{children:"Helper"}),Object(U.jsx)("div",{style:{display:1==window.connected&&1==a.state.walletAccepted?"":"none"},children:Object(U.jsxs)("div",{children:[Object(U.jsx)("p",{className:"question",children:"Should we implement a variable tax system?"}),Object(U.jsxs)("p",{children:["Please see the details ",Object(U.jsx)("a",{href:"#details",children:"here"})]})]})}),Object(U.jsx)(w.a,{sx:{display:a.state.progress?"flex":"none"},children:Object(U.jsx)(u.a,{})}),Object(U.jsx)("div",{style:{marginTop:"24px"},children:Object(U.jsx)(M,{})})]}),Object(U.jsx)("a",{id:"details"}),Object(U.jsxs)("div",{className:"wrapper left",style:{marginTop:"16px"},children:[Object(U.jsx)("h3",{children:"Buffer Balance"}),Object(U.jsxs)("div",{children:["$",a.state.PPPBalanceBUSD.toFixed(2)]}),Object(U.jsx)("br",{}),Object(U.jsx)("h3",{children:"LP Apeswap"}),Object(U.jsxs)("div",{children:[a.state.LPApeswap," APE-LP ( ",a.state.Apeswap_BUSD_Total.toFixed(2)," BUSD / ",a.state.Apeswap_PSTN_Total.toFixed(2)," PSTN )"]}),Object(U.jsx)("input",{style:{padding:"8px"},onChange:function(e){a.setState({ApeswapLPToSpend:e.target.value})},type:"number"})," APE-LP",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsxs)("div",{children:[a.state.ApeswapLPToSpend," ( ",(a.state.Apeswap_BUSD_Total/a.state.LPApeswap*a.state.ApeswapLPToSpend).toFixed(2)," BUSD / ",(a.state.Apeswap_PSTN_Total/a.state.LPApeswap*a.state.ApeswapLPToSpend).toFixed(2)," PSTN )"]}),Object(U.jsxs)("button",{type:"button",style:{padding:"8px",background:"red",color:"white"},onClick:a.onClick_FeedPPPApeswap,children:["feed PPP ",(a.state.Apeswap_BUSD_Total/a.state.LPApeswap*a.state.ApeswapLPToSpend).toFixed(2)," BUSD"]}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)("hr",{}),Object(U.jsx)("br",{}),Object(U.jsx)("h3",{children:"LP Pancakeswap"}),Object(U.jsxs)("div",{children:[a.state.LPPancakeswap," CAKE-LP ( ",a.state.Pancake_BUSD_Total.toFixed(2)," BUSD / ",a.state.Pancake_PSTN_Total.toFixed(2)," PSTN )"]}),Object(U.jsx)("input",{style:{padding:"8px"},onChange:function(e){a.setState({PancakeLPToSpend:e.target.value})},type:"number"})," CAKE-LP",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsxs)("div",{children:[a.state.PancakeLPToSpend," ( ",(a.state.Pancake_BUSD_Total/a.state.LPPancakeswap*a.state.PancakeLPToSpend).toFixed(2)," BUSD / ",(a.state.Pancake_PSTN_Total/a.state.LPPancakeswap*a.state.PancakeLPToSpend).toFixed(2)," PSTN )"]}),Object(U.jsxs)("button",{type:"button",style:{padding:"8px",background:"red",color:"white"},onClick:a.onClick_FeedPPPPancakeswap,children:["feed PPP with ",(a.state.Pancake_BUSD_Total/a.state.LPPancakeswap*a.state.PancakeLPToSpend).toFixed(2)," BUSD"]})]})]})},a.baseState=a.state,a}return n}(i.a.Component),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,557)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),o(e),c(e)}))},R=n(259),q=n(550),z=Object(R.a)({palette:{mode:"light",primary:{main:"#FFFFFF"},secondary:{main:"#193d7d"},background:{default:"#FFFFFF"}}});c.a.render(Object(U.jsx)(i.a.StrictMode,{children:Object(U.jsx)(q.a,{theme:z,children:Object(U.jsx)(N,{})})}),document.getElementById("root")),E()}},[[510,1,2]]]);
//# sourceMappingURL=main.3622cd1d.chunk.js.map